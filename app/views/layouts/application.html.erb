<!DOCTYPE html>
<html>
<head>
  <title>Specapp</title>
  <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true %>
  <%= javascript_include_tag 'application', 'data-turbolinks-track' => true %>
  <%= csrf_meta_tags %>
</head>
<body>

	<h1 class="page-title"><%= link_to "KKM Relocation Specs Webpage", specs_path %></h1>
	 <% flash.each do |type, message| %>
	  <div class="alert flash <%= type %>">
	    <%= message %>
	  </div>
	  <% end %>

	<div id="user_nav">
  		<% if current_user %>
		    Logged in as <%= current_user.email %>.
		    <%= link_to "Log out", log_out_path %>
		<% else %>
		    <%= link_to "Sign up", sign_up_path %> or
		    <%= link_to "log in", log_in_path %>
		<% end %>
	</div>

<% flash.each do |name, msg| %>
  <%= content_tag :div, msg, :id => "flash_#{name}" %>
<% end %>

	<!-- Source: http://www.jorgecoca.com/buils-search-form-ruby-rails/ -->
	<div class="search-bar">
		<%= form_tag(specs_path, :method => "get", class: "navbar-form", id: "search-form") do %>
		    <div class="input-append">
		      <%= text_field_tag :search, params[:search], class: "form-control span2", placeholder: "Search Specs" %>
		      <!-- In order to have the "search" icon int the button, we need to use plain HTML instead 
		           of using a Rails form helper -->
		      <button class="btn btn-primary" type="submit"><i class="icon-search"></i>Search</button>
		    </div>
	  	<% end %>
	  	<%= button_to "Create New Spec", options = { action: "new" } , { method: :get, :form_class => "btn btn-info create-spec" } %>
	</div>

	<%= yield %>

</body>
</html>
